(this["webpackJsonpmern-stack-frontend"]=this["webpackJsonpmern-stack-frontend"]||[]).push([[0],{177:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(2),r=a.n(c),s=a(33),o=a.n(s),i=(a(88),a(89),a(90),a(91),a(93),a(22)),l=a(8),u=a(38),j=a(36),d=a(5),p=a.n(d),b=a(12),m=a(10),h=a(13),O=a.n(h),x=a(78),f=a.n(x);a(112);var v=function(e){var t=Object(c.useState)([]),a=Object(m.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(new Date),i=Object(m.a)(o,2),l=i[0],d=i[1],h=Object(c.useState)([{title:"",content:"",author:"",date:l}]),x=Object(m.a)(h,2),v=x[0],N=x[1],g=Object(c.useState)(""),k=Object(m.a)(g,2),y=k[0],w=k[1],S=Object(c.useState)("https://mern-app-scajas.herokuapp.com/api/notas"),C=Object(m.a)(S,2),U=C[0],D=(C[1],Object(c.useState)("https://mern-app-scajas.herokuapp.com/api/notas/")),E=Object(m.a)(D,2),I=E[0],_=(E[1],Object(c.useState)("https://mern-app-scajas.herokuapp.com/api/users")),F=Object(m.a)(_,2),M=F[0];F[1],Object(c.useEffect)((function(){T(),L(),A(),console.log(e.match.params.id)}),[]);var T=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(M);case 2:t=e.sent,s(t.data.map((function(e){return e.username})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var t=Object(b.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e.match.params.id){t.next=6;break}return t.next=3,O.a.get(I+e.match.params.id);case 3:a=t.sent,N(a.data),console.log(v);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(b.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e.match.params.id){t.next=7;break}return t.next=3,O.a.put(I+e.match.params.id,v);case 3:a=t.sent,console.log(a),t.next=11;break;case 7:return t.next=9,O.a.post(U,v);case 9:n=t.sent,console.log(n);case 11:window.location.href="/";case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();onsubmit=function(e){e.preventDefault(),B(),console.log(v)};var G=function(e){N(Object(j.a)(Object(j.a)({},v),{},Object(u.a)({},e.target.name,e.target.value)))},J=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(t),e.next=3,N(Object(j.a)(Object(j.a)({},v),{},{date:t}));case 3:console.log(v.date);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){null!=e.match.params.id?(console.log("Este es el modificar"),w("Modificar")):(console.log("Este es el registrar"),w("Crear"))};return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"col-md-6 offset-md-3 mt-3",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header bg-dark text-white text-center",children:Object(n.jsxs)("h4",{children:[y," Nota"]})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("select",{name:"author",id:"selectUser",onChange:G,className:"form-control",children:[Object(n.jsx)("option",{value:"",children:"Seleccione un usuario"}),r.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"text",name:"title",id:"titulo",value:v.title,onChange:G,placeholder:"Ingrese el Titulo"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("textarea",{className:"form-control",type:"text",name:"content",id:"content",value:v.content,onChange:G,placeholder:"Ingrese el contenido"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(f.a,{className:"form-control",name:"date",selected:l,onChange:J})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Guardar"})})]})})]})})})},N=a(43),g=a(44),k=a(47),y=a(46),w=function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(){return Object(N.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(i.b,{className:"navbar-brand",to:"/",children:"Aplicaci\xf3n de Notas"}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(n.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsxs)(i.b,{className:"nav-link",to:"/",children:["Notas ",Object(n.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{className:"nav-link",to:"create",children:"Crear Notas"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{className:"nav-link",to:"user",children:"Crear Usuario"})})]})})]})})})}}]),a}(c.Component),S=a(82);var C=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)("https://mern-app-scajas.herokuapp.com/api/notas"),o=Object(m.a)(s,2),l=o[0],u=(o[1],Object(c.useState)("https://mern-app-scajas.herokuapp.com/api/notas/")),j=Object(m.a)(u,2),d=j[0];j[1],Object(c.useEffect)((function(){h()}),[]);var h=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(l);case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.delete(d+t);case 2:a=e.sent,console.log(a),h();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:a.map((function(e){return Object(n.jsx)("div",{className:"col-md-4 p-3",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsxs)("div",{className:"card-header bg-dark text-white d-flex justify-content-between",children:[Object(n.jsx)("h4",{children:e.title}),Object(n.jsx)(i.b,{className:"btn btn-secondary",to:"/edit/"+e._id,children:"Editar"})]}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("p",{children:e.content}),Object(n.jsx)("p",{children:Object(n.jsx)("strong",{children:e.author})}),Object(n.jsx)("p",{children:Object(S.a)(e.date)})]}),Object(n.jsx)("div",{className:"card-footer text-center",children:Object(n.jsx)("button",{className:"btn btn-danger",onClick:function(){return x(e._id)},children:"Eliminar"})})]},e._id)})}))})})};var U=function(e){var t=Object(c.useState)(""),a=Object(m.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)("https://mern-app-scajas.herokuapp.com/api/users"),i=Object(m.a)(o,2),l=i[0],u=(i[1],function(){var t=Object(b.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,O.a.post(l,{username:r});case 3:s(""),e.reload();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header text-center",children:Object(n.jsx)("h4",{children:"Crear usuario"})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{onSubmit:u,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"text",name:"name",id:"name",value:r,onChange:function(e){return s(e.target.value)},placeholder:"Ingrese el nombre de Usuario"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Guardar"})})]})})]})},D=function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={users:[],urlNotas:"https://mern-app-scajas.herokuapp.com/api/notas",urlNota:"https://mern-app-scajas.herokuapp.com/api/notas/",urlUsers:"https://mern-app-scajas.herokuapp.com/api/users",urlUser:"https://mern-app-scajas.herokuapp.com/api/users/"},e.reload=function(){e.componentDidMount()},e.deleteUser=function(){var t=Object(b.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.delete(e.state.urlUser+a);case 2:e.reload();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(this.state.urlUsers);case 2:t=e.sent,this.setState({users:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-5 mt-4",children:Object(n.jsx)(U,{reload:this.reload})}),Object(n.jsx)("div",{className:"col-md-7",children:Object(n.jsx)("ul",{className:"list-group mt-4",children:this.state.users.map((function(t){return Object(n.jsx)("li",{className:"list-group-item list-group-item-action",onDoubleClick:function(){return e.deleteUser(t._id)},children:t.username},t._id)}))})})]})})}}]),a}(c.Component);var E=function(){return Object(n.jsxs)(i.a,{children:[Object(n.jsx)(w,{}),Object(n.jsx)(l.a,{path:"/",exact:!0,component:C}),Object(n.jsx)(l.a,{path:"/edit/:id",exact:!0,component:v}),Object(n.jsx)(l.a,{path:"/create",exact:!0,component:v}),Object(n.jsx)(l.a,{path:"/user",exact:!0,component:D})]})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,183)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(E,{})}),document.getElementById("root")),I()},88:function(e,t,a){},89:function(e,t,a){}},[[177,1,2]]]);
//# sourceMappingURL=main.06dba82a.chunk.js.map